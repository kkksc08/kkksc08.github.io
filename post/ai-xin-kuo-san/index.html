<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>爱心扩散 | Myblog</title>
<meta name="description" content="三思而后码">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://kkksc08.github.io//favicon.ico?v=1670994818712">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://kkksc08.github.io//styles/main.css">


<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
  
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://kkksc08.github.io/">Myblog</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="/" class="menu">
                首页
              </a>
            
          </li>
        
          <li>
            
              <a href="/archives" class="menu">
                归档
              </a>
            
          </li>
        
          <li>
            
              <a href="/tags" class="menu">
                标签
              </a>
            
          </li>
        
          <li>
            
              <a href="/post/about" class="menu">
                关于
              </a>
            
          </li>
        
          <li>
            
              <a href="https://luogu.com.cn" class="menu" target="_blank">
                洛谷
              </a>
            
          </li>
        
          <li>
            
              <a href="https://www.luogu.com.cn/blog/THUIT/" class="menu" target="_blank">
                洛谷博客
              </a>
            
          </li>
        
          <li>
            
              <a href="https://www.noi.cn/" class="menu" target="_blank">
                NOI
              </a>
            
          </li>
        
          <li>
            
              <a href="https://hydro.ac/d/China_tsinghua/" class="menu" target="_blank">
                oj
              </a>
            
          </li>
        
          <li>
            
              <a href="https://fanyi.baidu.com/" class="menu" target="_blank">
                翻译
              </a>
            
          </li>
        
          <li>
            
              <a href="https://top.baidu.com/board?platform=pc&amp;sa=pcindex_a_right" class="menu" target="_blank">
                百度热搜
              </a>
            
          </li>
        
          <li>
            
              <a href="https://kkksc08.github.io/post/xi-you-ji-quan-pian-1-100zong-jie-gai-gua" class="menu">
                西游记
              </a>
            
          </li>
        
          <li>
            
              <a href="https://bilibili.com" class="menu" target="_blank">
                哔哩哔哩
              </a>
            
          </li>
        
          <li>
            
              <a href="https://tools.miku.ac/" class="menu" target="_blank">
                online
              </a>
            
          </li>
        
          <li>
            
              <a href="http://cqyc.com:8888/files/lemon-win-x86.zip" class="menu" target="_blank">
                &lt;Lemon-x86&gt;
              </a>
            
          </li>
        
          <li>
            
              <a href="http://cqyc.com:8888/files/Dev-Cpp_5.9.2_TDM-GCC_4.8.1_Setup.1425957545.zip" class="menu" target="_blank">
                &lt;Dev-cpp.5.9.2&gt;
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>爱心扩散</h1>
            <p class="article-meta">
              2022-12-14
              
            </p>
            
            <div class="post-content" v-pre>
              <script language = JavaScript> function password() {

    var testV = 1;

    var pass1 = prompt('please input the password','');

    var passwordforthisarticle = "THUITkkksc08";

    var inputtimemax = 19960319;

    while (testV < inputtimemax) {

    if (!pass1)

    history.go(-1);

    if (pass1 == passwordforthisarticle) {

    break;

    }

    testV+=1;

    var pass1 =

    prompt('Password error!');

    }

    if (pass1!= passwordforthisarticle & testV == inputtimemax)  

    history.go(-1);

    return " ";

    }
```
<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <script src="js/jquery.min.js"></script>
  </head>
  <style>
    * {
      padding: 0;
      margin: 0;
    }
    html,
    body {
      height: 100%;
      padding: 0;
      margin: 0;
      background: #000;
    }
<pre><code>.aa {
  position: fixed;
  left: 50%;
  bottom: 10px;
  color: #ccc;
}

.container {
  width: 100%;
  height: 100%;
}
canvas {
  z-index: 99;
  position: absolute;
  width: 100%;
  height: 100%;
}
</code></pre>
  </style>
  <body>
    <!-- 樱花 -->
    <div id="jsi-cherry-container" class="container">
      <audio autoplay="autopaly">
        <source src="renxi.mp3" type="audio/mp3" />
      </audio>
      <img class="img" src="./123.png" alt="" />
      <!-- 爱心 -->
      <canvas id="pinkboard" class="container"> </canvas>
    </div>
  </body>
</html>
<script>
    /*
     * Settings
     */
    var settings = {
      particles: {
        length: 500, // maximum amount of particles
        duration: 2, // particle duration in sec
        velocity: 100, // particle velocity in pixels/sec
        effect: -0.75, // play with this for a nice effect
        size: 30, // particle size in pixels
      },
    };
<pre><code>(function () {
  var b = 0;
  var c = [&quot;ms&quot;, &quot;moz&quot;, &quot;webkit&quot;, &quot;o&quot;];
  for (var a = 0; a &lt; c.length &amp;&amp; !window.requestAnimationFrame; ++a) {
    window.requestAnimationFrame = window[c[a] + &quot;RequestAnimationFrame&quot;];
    window.cancelAnimationFrame =
      window[c[a] + &quot;CancelAnimationFrame&quot;] ||
      window[c[a] + &quot;CancelRequestAnimationFrame&quot;];
  }
  if (!window.requestAnimationFrame) {
    window.requestAnimationFrame = function (h, e) {
      var d = new Date().getTime();
      var f = Math.max(0, 16 - (d - b));
      var g = window.setTimeout(function () {
        h(d + f);
      }, f);
      b = d + f;
      return g;
    };
  }
  if (!window.cancelAnimationFrame) {
    window.cancelAnimationFrame = function (d) {
      clearTimeout(d);
    };
  }
})();

/*
 * Point class
 */
var Point = (function () {
  function Point(x, y) {
    this.x = typeof x !== &quot;undefined&quot; ? x : 0;
    this.y = typeof y !== &quot;undefined&quot; ? y : 0;
  }
  Point.prototype.clone = function () {
    return new Point(this.x, this.y);
  };
  Point.prototype.length = function (length) {
    if (typeof length == &quot;undefined&quot;)
      return Math.sqrt(this.x * this.x + this.y * this.y);
    this.normalize();
    this.x *= length;
    this.y *= length;
    return this;
  };
  Point.prototype.normalize = function () {
    var length = this.length();
    this.x /= length;
    this.y /= length;
    return this;
  };
  return Point;
})();

/*
 * Particle class
 */
var Particle = (function () {
  function Particle() {
    this.position = new Point();
    this.velocity = new Point();
    this.acceleration = new Point();
    this.age = 0;
  }
  Particle.prototype.initialize = function (x, y, dx, dy) {
    this.position.x = x;
    this.position.y = y;
    this.velocity.x = dx;
    this.velocity.y = dy;
    this.acceleration.x = dx * settings.particles.effect;
    this.acceleration.y = dy * settings.particles.effect;
    this.age = 0;
  };
  Particle.prototype.update = function (deltaTime) {
    this.position.x += this.velocity.x * deltaTime;
    this.position.y += this.velocity.y * deltaTime;
    this.velocity.x += this.acceleration.x * deltaTime;
    this.velocity.y += this.acceleration.y * deltaTime;
    this.age += deltaTime;
  };
  Particle.prototype.draw = function (context, image) {
    function ease(t) {
      return --t * t * t + 1;
    }
    var size = image.width * ease(this.age / settings.particles.duration);
    context.globalAlpha = 1 - this.age / settings.particles.duration;
    context.drawImage(
      image,
      this.position.x - size / 2,
      this.position.y - size / 2,
      size,
      size
    );
  };
  return Particle;
})();

/*
 * ParticlePool class
 */
var ParticlePool = (function () {
  var particles,
    firstActive = 0,
    firstFree = 0,
    duration = settings.particles.duration;

  function ParticlePool(length) {
    // create and populate particle pool
    particles = new Array(length);
    for (var i = 0; i &lt; particles.length; i++)
      particles[i] = new Particle();
  }
  ParticlePool.prototype.add = function (x, y, dx, dy) {
    particles[firstFree].initialize(x, y, dx, dy);

    // handle circular queue
    firstFree++;
    if (firstFree == particles.length) firstFree = 0;
    if (firstActive == firstFree) firstActive++;
    if (firstActive == particles.length) firstActive = 0;
  };
  ParticlePool.prototype.update = function (deltaTime) {
    var i;

    // update active particles
    if (firstActive &lt; firstFree) {
      for (i = firstActive; i &lt; firstFree; i++)
        particles[i].update(deltaTime);
    }
    if (firstFree &lt; firstActive) {
      for (i = firstActive; i &lt; particles.length; i++)
        particles[i].update(deltaTime);
      for (i = 0; i &lt; firstFree; i++) particles[i].update(deltaTime);
    }

    // remove inactive particles
    while (
      particles[firstActive].age &gt;= duration &amp;&amp;
      firstActive != firstFree
    ) {
      firstActive++;
      if (firstActive == particles.length) firstActive = 0;
    }
  };
  ParticlePool.prototype.draw = function (context, image) {
    // draw active particles
    if (firstActive &lt; firstFree) {
      for (i = firstActive; i &lt; firstFree; i++)
        particles[i].draw(context, image);
    }
    if (firstFree &lt; firstActive) {
      for (i = firstActive; i &lt; particles.length; i++)
        particles[i].draw(context, image);
      for (i = 0; i &lt; firstFree; i++) particles[i].draw(context, image);
    }
  };
  return ParticlePool;
})();

/*
 * Putting it all together
 */
(function (canvas) {
  var context = canvas.getContext(&quot;2d&quot;),
    particles = new ParticlePool(settings.particles.length),
    particleRate =
      settings.particles.length / settings.particles.duration, // particles/sec
    time;

  // get point on heart with -PI &lt;= t &lt;= PI
  function pointOnHeart(t) {
    return new Point(
      160 * Math.pow(Math.sin(t), 3),
      130 * Math.cos(t) -
        50 * Math.cos(2 * t) -
        20 * Math.cos(3 * t) -
        10 * Math.cos(4 * t) +
        25
    );
  }

  // creating the particle image using a dummy canvas
  var image = (function () {
    var canvas = document.createElement(&quot;canvas&quot;),
      context = canvas.getContext(&quot;2d&quot;);
    canvas.width = settings.particles.size;
    canvas.height = settings.particles.size;
    // helper function to create the path
    function to(t) {
      var point = pointOnHeart(t);
      point.x =
        settings.particles.size / 2 +
        (point.x * settings.particles.size) / 350;
      point.y =
        settings.particles.size / 2 -
        (point.y * settings.particles.size) / 350;
      return point;
    }
    // create the path
    context.beginPath();
    var t = -Math.PI;
    var point = to(t);
    context.moveTo(point.x, point.y);
    while (t &lt; Math.PI) {
      t += 0.01; // baby steps!
      point = to(t);
      context.lineTo(point.x, point.y);
    }
    context.closePath();
    // create the fill
    context.fillStyle = &quot;#ea80b0&quot;;
    context.fill();
    // create the image
    var image = new Image();
    image.src = canvas.toDataURL();
    return image;
  })();

  // render that thing!
  function render() {
    // next animation frame
    requestAnimationFrame(render);

    // update time
    var newTime = new Date().getTime() / 1000,
      deltaTime = newTime - (time || newTime);
    time = newTime;

    // clear canvas
    context.clearRect(0, 0, canvas.width, canvas.height);

    // create new particles
    var amount = particleRate * deltaTime;
    for (var i = 0; i &lt; amount; i++) {
      var pos = pointOnHeart(Math.PI - 2 * Math.PI * Math.random());
      var dir = pos.clone().length(settings.particles.velocity);
      particles.add(
        canvas.width / 2 + pos.x,
        canvas.height / 2 - pos.y,
        dir.x,
        -dir.y
      );
    }

    // update and draw particles
    particles.update(deltaTime);
    particles.draw(context, image);
  }

  // handle (re-)sizing of the canvas
  function onResize() {
    canvas.width = canvas.clientWidth;
    canvas.height = canvas.clientHeight;
  }
  window.onresize = onResize;

  // delay rendering bootstrap
  setTimeout(function () {
    onResize();
    render();
  }, 10);
})(document.getElementById(&quot;pinkboard&quot;));
</code></pre>
  </script>
  <script>
    var RENDERER = {
      INIT_CHERRY_BLOSSOM_COUNT: 30,
      MAX_ADDING_INTERVAL: 10,

      init: function () {
        this.setParameters();
        this.reconstructMethods();
        this.createCherries();
        this.render();
        if (
          navigator.userAgent.match(
            /(phone|pod|iPhone|iPod|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i
          )
        ) {
          // var box = document.querySelectorAll(".box")[0];
          // console.log(box, "移动端");
          // box.style.marginTop = "65%";
        }
      },
      setParameters: function () {
        this.$container = $("#jsi-cherry-container");
        this.width = this.$container.width();
        this.height = this.$container.height();
        this.context = $("<canvas />")
          .attr({ width: this.width, height: this.height })
          .appendTo(this.$container)
          .get(0)
        var rate = this.FOCUS_POSITION / (this.z + this.FOCUS_POSITION),
          x = this.renderer.width / 2 + this.x * rate,
          y = this.renderer.height / 2 - this.y * rate;
        return { rate: rate, x: x, y: y };
      },
      re
          }
        } else {
          this.phi += Math.PI / (axis.y == this.thresholdY ? 200 : 500);
          this.phi %= Math.PI;
        }
        if (this.y <= -this.renderer.height * this.SURFACE_RATE) {
          this.x += 2;
          this.y = -this.renderer.height * this.SURFACE_RATE;
        } else {
          this.x += this.vx;
          this.y += this.vy;
        }
        return (
          this.z > -this.FOCUS_POSITION &&
          this.z < this.FAR_LIMIT &&
          this.x < this.renderer.width * 1.5
        );
      },
    };
    $(function () {
      RENDERER.init();
    });
  </script>
<pre><code></code></pre>

            </div>
          </article>
        </div>
        <div class="paper" data-aos="fade-in">
          
            <div class="next-post">
              <div class="next">
                下一篇
              </div>
              <a href="https://kkksc08.github.io/post/ai-xin-tiao-dong/">
                <h3 class="post-title">
                  爱心跳动
                </h3>
              </a>
            </div>
          
        </div>
        
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img src="https://kkksc08.github.io//images/avatar.png?v=1670994818712" class="no-responsive avatar">
    <div class="text-muted">三思而后码</div>
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      最新文章
    </div>
    <div class="row">
      <ul>
        
          
            <li>
              <a href="https://kkksc08.github.io/post/ai-xin-kuo-san/">爱心扩散</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/ai-xin-tiao-dong/">爱心跳动</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/canvas-xing-kong/">Canvas星空</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/liu-xing-yu/">流星雨</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/cruan-jian-bian-xie-mo-ban/">c++软件编写模板</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/markdown/">Markdown</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/xi-you-ji-quan-pian-1-100zong-jie-gai-gua/">西游记全篇(1-100)总结概括</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/linker-page/">linker page</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/bian-lun-shan-ding-de-feng-jing-yu-shan-yao-de-feng-jing/">辩论——山顶的风景与山腰的风景</a>
            </li>
          
        
          
            <li>
              <a href="https://kkksc08.github.io/post/shu-bao-pei-wo-zou-guo-de-lu/">书包陪我走过的路</a>
            </li>
          
        
          
        
          
        
          
        
          
        
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      标签列表
    </div>
    <div class="row">
      
        <a href="https://kkksc08.github.io/tag/LWghQyXtG/" class="badge warning">
          School
        </a>
      
        <a href="https://kkksc08.github.io/tag/fVbfzByvn/" class="badge warning">
          IT
        </a>
      
        <a href="https://kkksc08.github.io/tag/33bAe805J/" class="badge secondary">
          家庭
        </a>
      
    </div>
  </div>
  <div class="paper">
    Powered by <a href="https://luogu.com.cn/blog/THU_IT" target="_blank">wbx</a> | <a class="rss" href="https://kkksc08.github.io//atom.xml" target="_blank">RSS</a>
  </div>
</div>


    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

</script>




  </body>
</html>
